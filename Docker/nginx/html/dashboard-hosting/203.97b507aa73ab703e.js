"use strict";(self.webpackChunkdashboard_hosting=self.webpackChunkdashboard_hosting||[]).push([[203],{1203:(E,f,s)=>{s.r(f),s.d(f,{AuthModule:()=>U});var l=s(9808),r=s(2382),m=s(7152),v=s(9230),h=s(590),t=s(5e3),d=s(2520),z=s(3640),A=s(9590),u=s(4546),g=s(1894),y=s(2683),p=s(1047),x=s(6042),C=s(2643);function Z(n,i){1&n&&(t.TgZ(0,"div",13),t._UZ(1,"nz-spin",14),t.qZA()),2&n&&(t.xp6(1),t.Q6J("nzSize","large"))}const P=function(){return["/auth","register"]};function S(n,i){1&n&&(t.TgZ(0,"div",19),t._UZ(1,"nz-spin",20),t.qZA()),2&n&&(t.xp6(1),t.Q6J("nzSize","large"))}const I=function(){return["/auth","login"]},O=[{path:"auth/login",component:(()=>{class n{constructor(o,e,a,c){this.formBuilder=o,this.authenticationService=e,this.router=a,this.modal=c,this.loadingState=!1}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(30)]],password:["",[r.kI.required,r.kI.pattern("[A-Za-z0-9]{4,20}")]]})}ngAfterViewInit(){}get f(){return this.loginForm.controls}submitForm(){this.loadingState=!0,this.authenticationService.login(this.f.username.value,this.f.password.value).pipe((0,h.P)()).subscribe(o=>{this.loadingState=!1;let e={message:"Success",method:"success"};if(200==o.code&&1==o.status)return this.notification(e),void setTimeout(()=>{this.router.navigate(["dashboard","list"])},1001);200!=o.code&&0==o.status&&(e.message=o.message,e.method="error",this.notification(e))})}notification(o){let e=o.method;this.modal[e]({nzWidth:350,nzOkText:null,nzTitle:`Login ${e}`,nzContent:`${o.message}`,nzStyle:{position:"absolute",bottom:"0px",right:"20px",top:"auto"}}),setTimeout(()=>{this.modal.closeAll()},1e3)}checkFormValid(){return!this.loginForm.valid}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r.qu),t.Y36(d.$),t.Y36(m.F0),t.Y36(z.Sf))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-login"]],decls:18,vars:6,consts:[["class","style-loading",4,"ngIf"],[1,"form-style"],[1,"text-center"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["nzErrorTip","Please input your username!"],["nzPrefixIcon","user"],["type","text","nz-input","","formControlName","username","placeholder","Username"],["nzErrorTip","Please input your Password!"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Password"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType","disabled"],[2,"display","flex","justify-content","space-between"],[3,"routerLink"],[1,"style-loading"],["nzSimple","",3,"nzSize"]],template:function(o,e){1&o&&(t.YNc(0,Z,2,1,"div",0),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3," \u0110\u0103ng nh\u1eadp "),t.qZA(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),t._UZ(8,"input",6),t.qZA()()(),t.TgZ(9,"nz-form-item")(10,"nz-form-control",7)(11,"nz-input-group",8),t._UZ(12,"input",9),t.qZA()()(),t.TgZ(13,"button",10),t._uU(14,"\u0110\u0103ng nh\u1eadp"),t.qZA(),t.TgZ(15,"div",11)(16,"a",12),t._uU(17,"\u0110\u0103ng k\xed!"),t.qZA()()()()),2&o&&(t.Q6J("ngIf",e.loadingState),t.xp6(4),t.Q6J("formGroup",e.loginForm),t.xp6(9),t.Q6J("nzType","primary")("disabled",e.checkFormValid()),t.xp6(3),t.Q6J("routerLink",t.DdM(5,P)))},directives:[l.O5,A.W,r._Y,r.JL,u.Lr,r.sg,g.SK,u.Nx,g.t3,u.Fd,y.w,p.gB,p.Zp,r.Fj,r.JJ,r.u,x.ix,C.dQ,m.yS],styles:[".login-form[_ngcontent-%COMP%]{max-width:300px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}.form-style[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);padding:25px 40px 35px;border:1px solid #d0d0d0;box-shadow:0 0 10px #d0d0d0;border-radius:20px}.form-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.form-style[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.25rem}"]}),n})()},{path:"auth/logout",component:(()=>{class n{constructor(o,e){this.authenticationService=o,this.router=e}ngOnInit(){this.authenticationService.logout(),this.router.navigate(["/"])}ngAfterViewInit(){}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(d.$),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-logout"]],decls:0,vars:0,template:function(o,e){},styles:[""]}),n})(),canActivate:[v.a]},{path:"auth/register",component:(()=>{class n{constructor(o,e,a,c){this.formBuilder=o,this.authenticationService=e,this.router=a,this.modal=c,this.loadingState=!1}ngOnInit(){this.registerForm=this.formBuilder.group({employeeId:["",[r.kI.required]],username:["",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(30)]],email:[""],password:["",[r.kI.required,r.kI.pattern("^[A-Za-z0-9!@#$%^&*()-_+=]{4,20}$")]],confirmPassword:["",[r.kI.required]]})}ngAfterViewInit(){}get f(){return this.registerForm.controls}submitForm(){this.loadingState=!0;let o={message:"Success",method:"success",data:"Register successed",time:1500},e={employeeId:this.f.employeeId.value,email:this.f.email.value,username:this.f.username.value,password:this.f.password.value};if(this.f.password.value!=this.f.confirmPassword.value)return o.method="warning",o.message="Error",o.data="Password and confirm password are not the same",this.f.password.reset(),this.f.confirmPassword.reset(),this.loadingState=!1,this.notification(o);this.authenticationService.register(e).pipe((0,h.P)()).subscribe(a=>(this.loadingState=!1,201==a.code?(o.message="Error",o.method="warning",o.data=a.message,this.notification(o)):200!=a.code?(o.message="Error",o.method="error",o.data=a.message,this.notification(o)):(o.data=a.message,this.notification(o),void this.router.navigate(["auth","login"]))))}notification(o){this.modal[o.method]({nzWidth:350,nzOkText:null,nzTitle:`${o.message} Register`,nzContent:`${o.data}`,nzStyle:{position:"absolute",bottom:"0px",right:"20px",top:"auto"}}),setTimeout(()=>{this.modal.closeAll()},o.time)}checkFormValid(){return!this.registerForm.valid}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r.qu),t.Y36(d.$),t.Y36(m.F0),t.Y36(z.Sf))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-register"]],decls:29,vars:6,consts:[["class","style-loading",4,"ngIf"],[1,"form-style"],[1,"text-center"],["nz-form","",1,"register-form",3,"formGroup","ngSubmit"],["nzErrorTip","Employee Id not validated!"],["nzPrefixIcon","idcard"],["type","text","nz-input","","formControlName","employeeId","placeholder","Employee Id"],["nzPrefixIcon","mail"],["type","text","nz-input","","formControlName","email","placeholder","Email"],["nzErrorTip","Username not validated!"],["nzPrefixIcon","user"],["type","text","nz-input","","formControlName","username","placeholder","Username"],["nzErrorTip","Password not validated!"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Password"],["nzErrorTip","Confirm password not validated!"],["type","password","nz-input","","formControlName","confirmPassword","placeholder","Confirm password"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType","disabled"],[3,"routerLink"],[1,"style-loading"],["nzSimple","",3,"nzSize"]],template:function(o,e){1&o&&(t.YNc(0,S,2,1,"div",0),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3," \u0110\u0103ng k\xed "),t.qZA(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),t._UZ(8,"input",6),t.qZA()()(),t.TgZ(9,"nz-form-item")(10,"nz-form-control")(11,"nz-input-group",7),t._UZ(12,"input",8),t.qZA()()(),t.TgZ(13,"nz-form-item")(14,"nz-form-control",9)(15,"nz-input-group",10),t._UZ(16,"input",11),t.qZA()()(),t.TgZ(17,"nz-form-item")(18,"nz-form-control",12)(19,"nz-input-group",13),t._UZ(20,"input",14),t.qZA()()(),t.TgZ(21,"nz-form-item")(22,"nz-form-control",15)(23,"nz-input-group",13),t._UZ(24,"input",16),t.qZA()()(),t.TgZ(25,"button",17),t._uU(26,"\u0110\u0103ng k\xed"),t.qZA(),t.TgZ(27,"a",18),t._uU(28,"\u0110\u0103ng nh\u1eadp!"),t.qZA()()()),2&o&&(t.Q6J("ngIf",e.loadingState),t.xp6(4),t.Q6J("formGroup",e.registerForm),t.xp6(21),t.Q6J("nzType","primary")("disabled",e.checkFormValid()),t.xp6(2),t.Q6J("routerLink",t.DdM(5,I)))},directives:[l.O5,A.W,r._Y,r.JL,u.Lr,r.sg,g.SK,u.Nx,g.t3,u.Fd,y.w,p.gB,p.Zp,r.Fj,r.JJ,r.u,x.ix,C.dQ,m.yS],styles:[".register-form[_ngcontent-%COMP%]{max-width:300px}.register-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.register-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}.form-style[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);padding:25px 40px 35px;border:1px solid #d0d0d0;box-shadow:0 0 10px #d0d0d0;border-radius:20px}.form-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.form-style[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.25rem}.form-style[_ngcontent-%COMP%]   .login-form-button[_ngcontent-%COMP%]{margin-bottom:16px}"]}),n})()},{path:"auth/forgot-password",component:(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-forgot-password"]],decls:0,vars:0,template:function(o,e){},styles:[""]}),n})()},{path:"auth/manage",component:(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-core-manage-list"]],decls:0,vars:0,template:function(o,e){},styles:[""]}),n})()}];let L=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,m.Bz.forChild(O)],m.Bz]}),n})();var J=s(4119);let U=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[J.h,l.ez,r.u5,r.UX,L]]}),n})()}}]);