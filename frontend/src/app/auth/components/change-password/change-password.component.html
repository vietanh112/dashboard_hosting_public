<nz-modal [(nzVisible)]="checkVisibleChangePassword" nzTitle="Thay đổi mật khẩu" (nzOnCancel)="handleCancel()" (nzAfterOpen)="loadingOk()">
    <ng-container *nzModalContent>
        <form action="" [formGroup]="changePasswordForm">
          <div class="form-group">
            <label for="" style="margin-bottom: 5px;">Old password <span class="color-red">*</span></label>
            <nz-form-control nzErrorTip="Old password not validated!">
              <nz-input-group>
                <input type="password" nz-input formControlName="oldPassword" placeholder="Old password" />
              </nz-input-group>
            </nz-form-control>
        </div>
        <div class="form-group">
            <label for="" style="margin-bottom: 5px;">New password <span class="color-red">*</span></label>
            <nz-form-control nzErrorTip="New password not validated!">
              <nz-input-group>
                <input type="password" nz-input formControlName="newPassword" placeholder="New password" />
              </nz-input-group>
            </nz-form-control>
        </div>
        <div class="form-group">
            <label for="" style="margin-bottom: 5px;">Confirm new password <span class="color-red">*</span></label>
            <nz-form-control [nzWarningTip]="passwordErrorTpl">
              <nz-input-group>
                <input type="password" nz-input formControlName="confirmNewPassword" placeholder="Confirm new password" />
              </nz-input-group>
            </nz-form-control>
            <ng-template #passwordErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">Please confirm your password!</ng-container>
              <ng-container *ngIf="control.hasError('confirm')">Password is inconsistent!</ng-container>
            </ng-template>
        </div>
        </form>
        
    </ng-container>
    <ng-container *nzModalFooter>
        <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
        <button nz-button nzType="primary" [disabled]="checkFormValid()" (click)="changePassword()">Change Password</button>
    </ng-container>
</nz-modal>